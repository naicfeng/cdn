import{cB as p,e,ai as c,as as x,k as $,j as h,aI as k,a4 as I,a3 as b,r as _,aK as v,cT as u,av as C,S as o,c0 as y,aq as M,ar as L,ac as S,a as E,E as g,a0 as m,ct as G,l as d,bK as O,bL as z}from"./index.726c3413.js";import{b as A}from"./Folder.0f10ea06.js";import{u as F}from"./index.182af33a.js";import{I as H}from"./ImageWithError.d5d67bea.js";import{O as T,g as B}from"./icon.7c18f94a.js";import{G as K}from"./GridItem.912ee647.js";import"./Layout.577f0bd1.js";import"./index.cd1b463f.js";import"./FolderTree.055b66cc.js";import"./index.5cbdb8fb.js";import"./video_box.3f97507f.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.e98aa586.js";import"./LinkWithBase.b3f6b95d.js";import"./index.370d444a.js";const P=t=>{const{isHide:i}=p();if(i(t.obj)||t.obj.type!==T.IMAGE)return null;const{setPathAs:n}=F(),r=e(x,{get color(){return c()},boxSize:"$12",get as(){return B(t.obj)}}),[a,l]=$(!1),f=h(()=>k()&&(a()||t.obj.selected)),{show:w}=A({id:1}),{rawLink:j}=I();return e(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},style:{"flex-grow":1},get children(){return e(b,{w:"$full",class:"image-item",p:"$1",spacing:"$1",rounded:"$lg",transition:"all 0.3s",border:"2px solid transparent",get _hover(){return{border:`2px solid ${c()}`}},onMouseEnter:()=>{l(!0),n(t.obj.name,t.obj.is_dir,!0)},onMouseLeave:()=>{l(!1)},onContextMenu:s=>{_(()=>{v(!1),u(t.index,!0,!0)}),w(s,{props:t.obj})},get children(){return e(C,{w:"$full",pos:"relative",get children(){return[e(o,{get when(){return f()},get children(){return e(y,{pos:"absolute",left:"$1",top:"$1",get checked(){return t.obj.selected},onChange:s=>{u(t.index,s.target.checked)}})}}),e(H,{h:"150px",w:"$full",objectFit:"cover",rounded:"$lg",shadow:"$md",get fallback(){return e(M,{size:"lg"})},fallbackErr:r,get src(){return j(t.obj)},loading:"lazy",onClick:()=>{L.emit("gallery",t.obj.name)}})]}})}})}})},ae=t=>{const i=E(),n=h(()=>e(G,{w:"$full",gap:"$1",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",class:"image-folders",get children(){return e(g,{get each(){return m.objs.filter(r=>r.is_dir)},children:(r,a)=>e(K,{obj:r,get index(){return a()}})})}}));return e(b,{spacing:"$2",w:"$full",get children(){return[e(o,{get when(){return d.show_folder_in_image_view==="top"},get children(){return n()}}),e(o,{get when(){return t.images.length>0},get fallback(){return e(O,{m:"$2",get children(){return i("home.no_images")}})},get children(){return e(z,{w:"$full",gap:"$1",flexWrap:"wrap",class:"image-images",get children(){return e(g,{get each(){return m.objs},children:(r,a)=>e(P,{obj:r,get index(){return a()}})})}})}}),e(o,{get when(){return d.show_folder_in_image_view==="bottom"},get children(){return n()}})]}})};export{ae as default};
